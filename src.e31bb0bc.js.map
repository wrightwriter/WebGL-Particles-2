{"version":3,"sources":["m4.js","setGeometry.js","setColors.js","utils.js","vars.js","shaders.js","index.js","C:/Users/Bambi/AppData/Local/Yarn/Data/global/node_modules/parcel-bundler/src/builtins/bundle-url.js","C:/Users/Bambi/AppData/Local/Yarn/Data/global/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["m4","projection","width","height","depth","multiply","a","b","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b00","b01","b02","b03","b10","b11","b12","b13","b20","b21","b22","b23","b30","b31","b32","b33","translation","tx","ty","tz","xRotation","angleInRadians","c","Math","cos","s","sin","yRotation","zRotation","scaling","sx","sy","sz","translate","m","xRotate","yRotate","zRotate","scale","orthographic","left","right","bottom","top","near","far","geometryF","Float32Array","setGeometry","gl","bufferData","ARRAY_BUFFER","STATIC_DRAW","setColors","Uint8Array","createProgram","shaders","opt_attribs","opt_locations","opt_errorCallback","errFn","error","program","forEach","shader","attachShader","attrib","ndx","bindAttribLocation","linkProgram","linked","getProgramParameter","LINK_STATUS","lastError","getProgramInfoLog","deleteProgram","msg","console","makeBuffer","attributeLocationName","size","type","normalize","stride","offset","data","positionAttributeLocation","getAttribLocation","pointsBuffer","createBuffer","enableVertexAttribArray","bindBuffer","vertexAttribPointer","bufferObject","attributeLocation","properties","defaultShaderType","createProgramFromSources","shaderSources","ii","length","push","loadShader","shaderSource","shaderType","createShader","compileShader","compiled","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","deleteShader","NUM_PARTICLES","vertexShaderRectangleSource","fragmentShaderRectangleSource","vertexShaderSource","fragmentShaderSource","computeShaderSource","radToDeg","r","PI","degToRad","d","document","getElementById","innerHTML","main","checkErorrs","ctx","e","getError","NO_ERROR","log","canvas","WIDTH","HEIGHT","getContext","antialias","programDrawParticles","webglUtils","programDrawScreen","computeShader","COMPUTE_SHADER","programCompute","ssbo","SHADER_STORAGE_BUFFER","DYNAMIC_COPY","bindBufferBase","texWidth","clientWidth","texHeight","clientHeight","currTex","createTexture","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","texParameteri","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","currentFrameBuffer","createFramebuffer","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","drawnTex","drawnFrameBuffer","feedbackTex","COLOR_ATTACHMENT1","vaoScreenRectangle","createVertexArray","bindVertexArray","rectangleGeometry","rectangleBuffer","FLOAT","vaoP","pBuffer","colorLocation","getUniformLocation","matrixLocation","fudgeLocation","colorAttributeLocation","rotation","color","random","state","gravity","x","y","timePrevious","Date","getTime","timeNext","timeDelta","timeElapsed","timeStarted","positionMouse","mousePressed","avoidance","formula","formulaInput","querySelector","addEventListener","target","value","body","onmousedown","onmouseup","window","getMousePosition","call","runCompute","setInterval","drawParticles","drawScreen","webglLessonsUI","setupSlider","slide","updatePosition","max","ui","index","event","useProgram","uniform2fv","uniform1f","uniform1i","dispatchCompute","memoryBarrier","SHADER_IMAGE_ACCESS_BARRIER_BIT","ping","activeTexture","TEXTURE0","viewport","clearColor","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","matrix","uniformMatrix4fv","drawArrays","TRIANGLE_STRIP","READ_FRAMEBUFFER","DRAW_FRAMEBUFFER","blitFramebuffer","NEAREST","resizeCanvasToDisplaySize","enable","CULL_FACE","DEPTH_TEST","BLEND","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","POINTS","getRelativeMousePosition","rect","getBoundingClientRect","clientX","clientY","pos","getNoPaddingNoBorderCanvasRelativeMousePosition","setupCompute","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","i","module"],"mappings":"AOAA,ACAA,IDAIqS,ACAAY,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,AFFA,SCCSZ,ACCAa,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAC,CDDChB,MCCM,GDDX,ACCce,EDDE,ECCE,CAACE,SAAL,EAAd;ADAEjB,ADFJ,ICEIA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADc,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,AFHJ,ANFA,AIAO,IIKHA,ARLApT,AIASwI,EJAP,EQKE,CAACgL,ARLA,MQKL,EJLsB,GAAG,IAAtB;AGML,ACAC,ARLDvT,AEDF,ADAA,AIAA,ELCEA,CQGA,MDEOoS,ALNAxN,GFCG,EAAE,IOKZ,ALNF,CAAmBJ,EAAnB,EAAuB,WFCAvE,KAAT,EAAgBC,MAAhB,EAAwBC,KAAxB,EAA+B;AOM5C,ADJD,ANDI,AEDFqE,ADAF,ECAEA,EAAE,CAACC,UAAH,CACED,EAAE,CAACE,YADL,EAEE,IAAIG,UAAJ,CAAe,CACb;AMGJuO,ARJE,AEEE,ADFN,AIDO,EGKLA,EPJI/O,AIDOmE,CHCM,EAGb,EMCG,ANJU,CMITgL,CRJC,AEIL,CFHA,CCDS,COIb,ANJiB,EFCTvT,AEIJ,ADLY,COIDkT,ENJE,CDAG7O,COID,ARJV,AEML,CMFgBkP,CRFhB,AEFa,CFAR,CEOL,CMHW,ARDX,CQCqBC,ARJhB,CEAQ,CFIb,CAJK,AEQL,CGTkC,CGKvB,ARCX,ACLY,COIe,ARJtB,AEAQ,ADAgB,CACjC,CDKI,AEGA,CMLW,AREV,CAAD,AENa,CMImB,CAArB,ANMX,CFJKvT,EENQ,CMIwB,CNOrC,EMPW,ARJN,CEAQ,CFOb,CQH2CyN,ARJtC,AEYL,EFJA,AERa,CFAR,CQI0C,ANS/C,CMTgD+F,ARKhD,CATK,CEAQ,CMI8B,ARM3C,CAVK,AEcL,CMVJ,CROI,CEXa,EAeb,CFJIvT,CEXS,EAgBb,EFhBK,CEAQ,CFYb,CAZK,AEiBL,EFJA,CAAC,AEbY,CFAR,CEkBL,CFJA,CAdK,AEAQ,EFeb,AEIA,CFnBK,EAgBL,AEhBa,CFAR,CAAP,AEqBE,wUGtBC;AEOP,ACDEgT,AFJF,ANiBG,AEIG,ADpBJ,CAFiC,COKjCA,CRRO,ACMP,CAHiC,CCAhB,CMKb,APDJ,COCKQ,ANkBD,ADvB6B,EMM1BrB,ALNU,ADKjB,CALiC,CCwB7B,CDlBJ,ECNiB,CDAgB,CCyB7B,CMpBJ,APEA,COFgBsB,APLiB,CCAhB,CDQjB,CMFF,ALoBM,CD1B6B,CCAhB,CKMK,ANGtB,CCkBI,AD3B6B,EAUjC,CCViB,ADAgB,EOKjC,ANuBI,ADjBJ,CON6BR,APLI,ECAhB,ADYjB,ECiBI,CD7B6B,CCAhB,CMKjB,APQA,CCiBI,AD9B6B,COKKD,CPStC,CCdiB,CDAgB,COKS,AN0BtC,CM1BuCU,APU3C,ECfiB,CDAgB,CCgC7B,CDhBJ,CChBiB,ADAgB,ECiC7B,ADhBJ,EAjBiC,COKjC,ANLiB,CDkBjB,CCgBI,ADlC6B,EAmBjC,CCnBiB,ADAgB,ECmC7B,ADdJ,ECrBiB,EAoCb,GApCa,EAqCb,GArCa,EAsCb,EAtCa,EAuCb,GAvCa,EAyCb;AKlCJ,ACDD,ARcCzT,AEsBI,ADpBJ,AIHK,ELCLA,ACpBiC,EAuBjC,AIJWqI,CHnBM,ADAgB,EC2C7B,ADnBJ,CAxBiC,CCAhB,CFoBT,ACKR,CCmBI,CFxBM,ACpBuB,ECAhB,AD0BjB,ECmBI,AD7C6B,EA2BjC,CC3BiB,ADAgB,EC8C7B,ADlBJ,EC5BiB,CDAgB,CC+C7B,CDlBJ,CA7BiC,CCAhB,CD8BjB,CDVmBpI,AE4Bf,ADhD6B,CDoBvB,CCWV,CDXsBC,AEpBL,AGmBuB,CLC9B,ACpBuB,CCiD7B,CF7BqB,ACYzB,CChCiB,CDAgB,CCkD7B,CDjBJ,CAjCiC,CCAhB,CDkCjB,CCiBI,EDnD6B,CCAhB,CDmCjB,CCiBI,CDpD6B,CCAhB,CDoCjB,CCiBI,ADrD6B,EAqCjC,CCrCiB,EAsDb,ADtD6B,EAsCjC,CCtCiB,ADAgB,ECuD7B,ADhBJ,CAvCiC,CCAhB,CDyCjB,CCeI,GAxDa,EAyDb,GAzDa,EA0Db,EA1Da,EA2Db,GA3Da,EA6Db,saG1CC;AEXL,ADNF,ANmBI,AEyCE,ADpBJ,EA1CiC,ECAhB,AD2CjB,EMnCI,ALuDA,AD/D6B,EDqB3BC,AErBW,AD4CjB,CA5CiC,CCgE7B,CF3CK,ACwBT,EC7CiB,ADAgB,CDqBrBF,CAAC,AE4CT,ADnBJ,CDzBc,CErBG,ADAgB,ECkE7B,ADnBJ,CD1BkB,ACrBe,CDqBnB,AErBG,CDgDjB,CCmBI,CF9CkB,ACrBW,CDqBpB,CAAX,AErBe,ADiDjB,ECmBI,ADpE6B,ECAhB,ADkDjB,CAlDiC,CCqE7B,CDlBJ,CCnDiB,CDAgB,CCsE7B,CDlBJ,ECpDiB,ADAgB,ECuE7B,ADlBJ,CArDiC,CCAhB,CDsDjB,CCkBI,CDxE6B,CCAhB,CDuDjB,CCkBI,CDzE6B,ECAhB,ADwDjB,CAxDiC,CC0E7B,CDjBJ,CCzDiB,CDAgB,CC2E7B,CDjBJ,CC1DiB,CDAgB,CC4E7B,CDjBJ,CA3DiC,CCAhB,CD6DjB,CCgBI,EA7Ea,EA8Eb,EA9Ea,EA+Eb,GA/Ea,EAiFb;AKxEF,ACDJ,ARcI,AE4DE,ADpBJ,AIpBK,CJ1C4B,EA+DjC,COvDEyT,ANRe,ADAgB,AI0CtBpL,EHyCP,ADnBJ,ED1CMlI,AEtBW,ADAgB,EMSzB,AL2EJ,ADnBJ,CD3CS,CCtBwB,CCAhB,CKSL+R,ACDA,ARcAlS,AC4CZ,CD5Ca,AE+DT,ADrF6B,CDsBnB,CQdC,ANRE,ADmEjB,EM1DQ,AL6EJ,ADtF6B,CDsBf,CObhB,ACDJ,ARcgB,AEtBG,ADoEjB,CApEiC,AI0CJ,CH6CzB,CFjEkB,AC+CtB,CD/Ca,CAAX,AEtBe,CDAgB,CCwF7B,CDlBJ,CCtEiB,CDAgB,CCyF7B,CDlBJ,CCvEiB,ADAgB,EC0F7B,ADlBJ,GCxEiB,ADAgB,EC2F7B,ADlBJ,ECzEiB,ADAgB,EC4F7B,ADlBJ,EC1EiB,ADAgB,EC6F7B,ADlBJ,CA3EiC,ECAhB,AD4EjB,ECkBI,AD9F6B,ECAhB,AD6EjB,ECkBI,AD/F6B,ECAhB,AD8EjB,ECkBI,CDhG6B,ECAhB,AD+EjB,ECkBI,ADjG6B,ECAhB,ADiFjB,ECiBI,EAlGa,EAmGb,GAnGa,EAqGb,6jCG3DC;AEhCJ,ADPH,ANoBI,AE+EE,ADpBJ,EAlFiC,CMQjC,CAEE,ALVe,ADmFjB,CAnFiC,CCuG7B,CDnBJ,CD7DMI,AEvBW,CDAgB,CCwG7B,CK9FK+R,APaA,AC8DT,ECrFiB,CKUf,APaUnS,ACvBqB,CDuBpB,AEkFT,CK/FU,APaA,AC+Dd,CCtFiB,ADAgB,EC0G7B,ADnBJ,CDhEkB,CAAJ,AEvBG,ADAgB,EC2G7B,ADnBJ,CDjEsB,CAAT,ACvBoB,CDuB/B,AEvBe,CDyFjB,CCmBI,CD5G6B,CCAhB,CD0FjB,CCmBI,CD7G6B,CCAhB,CD2FjB,CCmBI,CD9G6B,ECAhB,AD4FjB,ECmBI,AD/G6B,ECAhB,AD6FjB,ECmBI,ADhH6B,ECAhB,AD8FjB,ECmBI,CDjH6B,ECAhB,AD+FjB,CA/FiC,CCkH7B,CDlBJ,CChGiB,CDAgB,CCmH7B,CDlBJ,CCjGiB,EAoHb,ADpH6B,EAkGjC,CClGiB,CDAgB,CCqH7B,CDlBJ,CCnGiB,CDAgB,CCsH7B,CDjBJ,CCrGiB,EAuHb,GAvHa,EAyHb;AK9GF,ACFJ,AReI,AEkGE,ADpBJ,AIhBK,EJtF4B,ECAhB,ADuGjB,AIjBWsI,EHqCP,AD3H6B,EMW3B8J,APaA/R,ACgFN,CO/FOqT,ANTU,CDAgB,CDwBxB,AEoGL,CDnBJ,EDjFY1T,AExBK,ADAgB,CMWpB,APaA,CAAC,AEqGV,ADnBJ,EM/FgB,ACFlB,ANTmB,ADAgB,CMWhB,CPaC,AEsGd,ADnBJ,COlGmB,AReL,CCxBmB,CCAhB,CKWKmS,APaA,ACoFtB,AItB+B,CL9DlB,AEuGT,CFvGF,ACxB+B,CMWR,CAACE,ALXT,AD6GjB,ECmBI,ADhI6B,ECAhB,AD8GjB,CMnGgB,CLsHZ,ADjI6B,CMWAC,CNoGjC,CC/GiB,CDAgB,CCkI7B,CKvHY,ANqGhB,CMrGuC,CLXtB,ADAgB,ECmI7B,ADlBJ,ECjHiB,ADAgB,ECoI7B,ADlBJ,EAlHiC,CCAhB,CDmHjB,CCkBI,CDrI6B,ECAhB,ADoHjB,ECkBI,ADtI6B,ECAhB,ADqHjB,ECkBI,ADvI6B,EAsHjC,CCtHiB,CDAgB,CCwI7B,CDjBJ,ECvHiB,ADAgB,ECyI7B,ADhBJ,ECzHiB,EA0Ib,GA1Ia,EA2Ib,GA3Ia,EA6Ib,kBKlIY,CAAd,oMF2EG;AG5EL,AFAF,ANeI,AEqHE,ADpBJ,CA1HiC,EA2HjC,CA3HiC,CCAhB,CMUbmB,APkHJ,CCmBI,AD/I6B,CDyB3BnT,CMfCkI,ALmHP,CC7HiB,CFyBR,CEuHL,ADhJ6B,EDyBrBxI,AEzBK,AD8HjB,CDrGa,ACzBoB,COUjC,ARec,AEwHV,CIvIN,ALqHE,COrHgB,AFAAyI,ALViB,CKUnC,AJVmB,CFyBC,ACuGlB,CKtHmB,ANeL,AEyHV,EDlJ6B,CDyBX,AEzBL,CFyBJ,ACwGb,CDxGE,AE0HE,ADnJ6B,ECAhB,ADkIjB,ECkBI,ADpJ6B,EAmIjC,CCnIiB,ADAgB,ECqJ7B,ADjBJ,CApIiC,ECAhB,ADqIjB,CArIiC,CCsJ7B,CDhBJ,CCtIiB,EAuJb,ADvJ6B,EAuIjC,CCvIiB,ADAgB,ECwJ7B,ADhBJ,EAxIiC,CCAhB,CDyIjB,CCgBI,ADzJ6B,ECAhB,AD0IjB,CA1IiC,CC0J7B,CDfJ,EC3IiB,ADAgB,EC2J7B,ADdJ,GC7IiB,EA4Jb,EA5Ja,EA6Jb,GA7Ja,EA8Jb,GA9Ja,EA+Jb,EA/Ja,EAiKb;AKrJF,ACDA,AFAF,ANeE,AEwIE,ADpBJ,AIvCK,AF1GA,GFG4B,CIuGtBF,CHvGM,AD+IjB,CA/IiC,CCmK7B,CKvJE6J,APcA7R,ACsHN,CKrIQkI,ALXyB,AEHnBhE,CGcL,AJXQ,CF0BR,ACuHT,CCmBI,CIzJQ,CNeAzE,AE1BK,ADAgB,CMY/B,APcW,CMfN,ANeO,AE2IV,ADnBJ,CMtIe,CNZkB,CKWdyC,AJXF,CF0BC,ACyHlB,CDzHc,AE4IV,ADtK6B,CEH5B,CGckB,ALyIvB,AI7C8B,AFzG9B0B,CGawBuE,ANeF,AE1BL,CF0BJ,AG7BR,CGcL,ANeE,AE6IE,ADvK6B,CEF7BhE,CDEa,ADqJjB,ECmBI,ADxK6B,EAsJjC,CCtJiB,CDAgB,AEH5B,CD4KD,CDlBJ,AEzJaC,EDEI,CDAgB,CC0K7B,CDlBJ,CCxJiB,ADAgB,EC2K7B,ADlBJ,CAzJiC,ECAhB,AD0JjB,AE7JK,ED+KD,AC9KsBC,CFEO,ECAhB,AD2JjB,ECkBI,AD7K6B,ECAhB,AD4JjB,ECkBI,AD9K6B,EA6JjC,CC7JiB,CCHZ,CDkLD,AD/K6B,CEFQC,CFgKzC,CC9JiB,ADAgB,ECgL7B,ADjBJ,EC/JiB,ADAgB,ECiL7B,ADhBJ,GCjKiB,EAkLb,GAlLa,CCHZ,CDsLD,CCrLwD,CDE3C,EAqLb,2KGrEcqD,mBATY,gEAUZA,mBAVY,wgGAAzB;AE1FD,ACDH,AFAF,ANeG,AE2JE,ADpBJ,AEnKF,EFCmC,EAmKjC,CCnKiB,CDAgB,AED7BpD,CDwLA,CF5JEtE,ACyIN,CApKiC,CCAhB,CF2BR,AC0IT,AEtKS,CDyLL,CK3KO+R,ANbsB,CD2BrBvS,AE3BK,ACDL6E,CH4BC,AC2Ib,CD3Ic,AE8JV,CDzL6B,ECAhB,ADuKjB,CD5IkB,CAAJ,AE+JV,AD1L6B,EMaZ,AN2JrB,CM3JsBuN,APcA,AE3BL,CF2BJ,CAAX,AEgKE,AD3L6B,ECAhB,ADyKjB,ECmBI,AD5L6B,CMaJ,AJdA,CIcC,AN6J9B,CM7J6B,ALbZ,CKaI,ANbY,CMa7B,ALgLA,AC9L6BrN,CF4KjC,EC3KiB,ADAgB,EC8L7B,ADlBJ,AE7KF,EDCmB,ADAgB,EC+L7B,ADlBJ,CA7KiC,ECAhB,AD8KjB,ECkBI,CDhM6B,ECAhB,AD+KjB,ECkBI,ADjM6B,ECAhB,ADgLjB,ECkBI,ADlM6B,EAiLjC,CCjLiB,EAmMb,ADnM6B,EAkLjC,CClLiB,CDAgB,CCoM7B,CDjBJ,CCnLiB,ADAgB,ECqM7B,ADhBJ,GCrLiB,EAsMb,GAtMa,EAuMb,EAvMa,EAyMb;AK3LD,APcD,AE8KE,ADpBJ,AEtLF,EFAmC,ECAhB,ADuLjB,ECoBI,AD3M6B,AEA7BC,EH4BEvE,AC4JN,CCxLiB,ADAgB,ED4BxB,AEgLL,ADnBJ,EAzLiC,AEAtB,CH4BCT,AE5BK,CF4BJ,AC8Jb,CD9Jc,AEiLV,AC7MUmE,CFAmB,CCAhB,ACAD,CF2LhB,AE3LiBM,CH4BC,AEkLd,CFlLU,AC5BmB,ECAhB,AD4LjB,CDhKsB,CAAT,AEmLT,AD/M6B,CD4B/B,CCiKF,CC7LiB,CDAgB,CCgN7B,CDlBJ,CC9LiB,ACAH,CFAmB,CCiN7B,ACjNN,CF+LE,EC/LiB,ADAgB,ECkN7B,ADlBJ,EAhMiC,CCAhB,CDiMjB,CCkBI,ADnN6B,ECAhB,ADkMjB,ECkBI,ADpN6B,EAmMjC,CCnMiB,CDAgB,CCqN7B,CDjBJ,CApMiC,CCAhB,CDqMjB,CCiBI,CDtN6B,CCAhB,CDsMjB,CCiBI,CDvN6B,ECAhB,ADuMjB,ECiBI,ADxN6B,EAyMjC,CCzMiB,EAyNb,EAzNa,EA0Nb,GA1Na,EA2Nb,GA3Na,EA6Nb;AK9MH,ACDDgP,AFDF,ANgBI,AEiME,ADpBJ,AEzMF/O,EKaE+O,APdiC,AECnC/O,EF0ME,CC3MiB,CDAgB,CC+N7B,CFlMEhE,AC+KN,CK/LOiI,AJbU,ADAgB,AEC5B,CAAC1D,CH4BG,AEmML,ADnBJ,CO/LU,CPduB,CD6BrBjF,AE7BK,CMcJ2T,AReA,ACiLb,CDjLc,AEoMV,CIpNN,ALbmC,AECnC,CGYkB/K,AHZF,CGYhB,AJbmB,AD+MjB,CDlLkB,CMhBC,ANgBL,AEqMV,ADlO6B,ECAhB,ADgNjB,CDnLsB,CQfC,AReV,AEsMT,ADnO6B,COcT,ARetB,CCoLF,CCjNiB,ACCM1D,CFDU,CCoO7B,CDlBJ,EClNiB,ADAgB,CECnB,CDoOV,ADlBJ,CElN+B,CDDd,ADAgB,COcG,CNwNhC,ADlBJ,EApNiC,CCAhB,CDqNjB,CCkBI,ADvO6B,EAsNjC,CCtNiB,CDAgB,CCwO7B,CDjBJ,CCvNiB,CDAgB,CCyO7B,CDjBJ,CAxNiC,CCAhB,CDyNjB,CCiBI,CD1O6B,ECAhB,AD0NjB,ECiBI,AD3O6B,ECAhB,AD2NjB,ECiBI,AD5O6B,EA6NjC,CC7NiB,EA6Ob,GA7Oa,EA8Ob,EA9Oa,EA+Ob,GA/Oa,EAiPb;AMlOF,AFDF,ANgBE,AEoNE,ADpBJ,AE5NAf,EFFiC,ECAhB,AD+NjB,AE7NAA,EDiPI,ADnP6B,AEE/B,CAACgB,CKaGyO,AReAjT,ACkMN,CKlNQiI,AJdS,ADAgB,CKcxB,CNgBA,AEsNL,ADnBJ,EOlNW,AFDCnG,ALdqB,CD8BrBzC,AE9BK,CF8BJ,ACoMb,COnNc6I,AReA,AEuNV,CIvOY,ALdiB,CKchBH,AJdA,CDmOjB,AEjOA,CGYO,ANgBW,AEwNd,ACpPY1D,CH4BF,AC9BmB,EKcV,AJdN,ADoOjB,COrNsB,AReA,CQfC6O,AReV,AEyNT,ADvP6B,CKcjC,ANgBE,CCuMF,AEnOA,CDFiB,CDAgB,AEER3O,CDsPrB,CDlBJ,CCtOiB,CDAgB,CCyP7B,CDlBJ,AErOA,EDFiB,ADAgB,EC0P7B,ADlBJ,EOzNc,APfmB,COeO,ANfvB,CDyOjB,CCkBI,AD3P6B,ECAhB,AD0OjB,ECkBI,AD5P6B,EA2OjC,CC3OiB,CDAgB,CC6P7B,CDjBJ,CA5OiC,CCAhB,CD6OjB,CCiBI,CD9P6B,CCAhB,CD8OjB,CCiBI,CD/P6B,ECAhB,AD+OjB,COhOc,CAAZ,ANiPE,ADhQ6B,EAiPjC,CCjPiB,EAiQb,EAjQa,EAkQb,GAlQa,EAmQb,GAnQa,EAqQb;AKpPJ,ADFD,ANgBG,AEuOE,ADpBJ,AE/OD,EFHkC,CECnC,CFkPE,CCnPiB,CDAgB,CCuQ7B,CFxOEtE,ACqNN,CMnOO,ANjB0B,CCAhB,CF+BR,ACsNT,CMpOA,ALuPI,CDxQ6B,CD+BrBZ,AE/BK,CF+BJ,ACuNb,CDvNc,AE0OV,CDzQ6B,ECAhB,ADuPjB,CDxNkB,CAAJ,AE2OV,AD1Q6B,EAwPjC,CDzNsB,AE/BL,CF+BJ,AC/BoB,CD+B/B,AE4OE,CDlBJ,CCzPiB,CDAgB,CC4Q7B,CDlBJ,EC1PiB,ADAgB,EC6Q7B,ADlBJ,EA3PiC,CCAhB,CD4PjB,CCkBI,CD9Q6B,CCAhB,CD6PjB,CCkBI,AD/Q6B,EA8PjC,CC9PiB,CDAgB,CCgR7B,CDjBJ,EC/PiB,ADAgB,ECiR7B,ADjBJ,EChQiB,ADAgB,ECkR7B,ADjBJ,EAjQiC,CCAhB,CDkQjB,CCiBI,CDnR6B,ECAhB,ADmQjB,CAnQiC,CCoR7B,CDfJ,CCrQiB,EAqRb,GArRa,EAsRb,GAtRa,EAuRb,EAvRa,EAyRb;AKvQL,ACFG,ARgBA,AE0PE,ADpBJ,EAtQiC,ECAhB,ADuQjB,ECoBI,AD3R6B,EDgC3Ba,ACwON,COxPO,ANhBU,ADAgB,EDgCxB,AE4PL,ADnBJ,EOzPWiT,APhBsB,COgBrB,ARgBA9T,AEhCK,CFgCJ,AC0Ob,CD1Oc,AE6PV,CM7QW,CAAb,ANhBe,ADAgB,EOgBf8T,ARgBA,AE8Pd,ADnBJ,CO3PmB,ARgBL,CChCmB,CCAhB,CMgBKF,ARgBA,AC4OtB,CD5Oa,AE+PT,CF/PF,AChC+B,ECAhB,AD6QjB,CO7P2B,CAACtM,ANgRxB,ADhS6B,ECAhB,AD8QjB,ECmBI,ADjS6B,EOgB/B,AP+PF,CC/QiB,CMgBmBwM,APhBH,COgBI,ANkRjC,CDlBJ,COhQE,CNhBe,ADAgB,COgBQ,CNmRrC,ADlBJ,CAjRiC,CCAhB,CDkRjB,CCkBI,CDpS6B,ECAhB,ADmRjB,ECkBI,CDrS6B,ECAhB,ADoRjB,CApRiC,CCsS7B,CDjBJ,CCrRiB,CDAgB,CCuS7B,CDjBJ,ECtRiB,CDAgB,CCwS7B,CDjBJ,ECvRiB,ADAgB,ECyS7B,ADhBJ,ECzRiB,EA0Sb,GA1Sa,EA2Sb,GA3Sa,EA6Sb;AM5RA,AFAL,ANgBG,AE6QE,ADpBJ,AEtRF,CFJmC,EA2RjC,EC3RiB,CDAgB,AEI/BnP,CD2SE,CF9QE7D,AC2PN,CA5RiC,COiBzB6R,ANjBS,CFiCR,AC4PT,CK5QF,AJ+RM,ADhT6B,EKkBnC,ANec3S,AC6PZ,CD7Pa,AEjCI,CMiBH,ARgBA,CQhBCuS,ANgSX,ADjT6B,AEInC,EF2RE,AE3Re,CH6BG,AEjCD,CFiCH,ACjCmB,CCkT7B,CDlBJ,CD/PsB,CAAT,AEjCI,ADAgB,CDiC/B,CQhBM,ANkSJ,ADlBJ,COhR0BqB,ENjBT,ADAgB,ECoT7B,ADlBJ,COjR+B,CAACE,APjBC,COiBF,ANjBd,CMiBS,APkR1B,COlRmCX,ANoS/B,ADrT6B,EAoSjC,CCpSiB,CMiBT,CNqSJ,ADtT6B,EAqSjC,CCrSiB,ADAgB,EOiBYR,ANsSzC,ADjBJ,EAtSiC,CCAhB,CDuSjB,CCiBI,CMvS+C,CAACV,APjBnB,CCAhB,CDwSjB,CCiBI,CDzT6B,ECAhB,ADySjB,ECiBI,AD1T6B,EA0SjC,CC1SiB,CMiB4B,CN0SzC,AD3T6B,COiB7B,CP0RJ,CO1RoE,ANjBnD,ADAgB,EC4T7B,ADfJ,GC7SiB,EA6Tb,GA7Ta,EA8Tb,GA9Ta,EA+Tb,GA/Ta,CAAf,CAFF,EAmUE9N,EAAE,CAACG,WAnUL;AKsBF,ACFQuO,ARgBJ,AEiSH,ADrBC,AEzSAlO,CFLiC,EA+SjC,CA/SiC,AEKjCA,EF2SA,CAhTiC,COkB3BkO,ARgBA9R,COdCwR,AN6RP,CAjTiC,CDkCxB,CCgRT,CAlTiC,CDkCrBvS,CAAC,ACiRb,AE9SW,CH6BG,AG7BFiF,CFLqB,COkBjB,CDElB,ACFmB2O,APkSjB,CMhSkBpB,APcA,AClCe,CDkCnB,CCmRd,CMjSF,AJfE,CKasB,ARgBA,AG7BF,CIeG,ACFAsB,ARgBV,AClCoB,COkBX,ARgBpB,CQhBc,APoShB,COpSM,CPlB2B,EAuTjC,CAvTiC,EAwTjC,AEnT6B1O,CFLI,EAyTjC,CAzTiC,EA0TjC,AErToB,CFLa,CEKIC,CFsTrC,EEtToB,CFLa,CEKS,CFuT1C,EA5TiC,EA6TjC,CA7TiC,EA8TjC,GA9TiC,EA+TjC,CA/TiC,CAAjB,CAAlB;AMqBE,ACFK,ARgBH,AG7BAlB,MAAAA,EH6BInD,AG7BF,CIeG,AJfFsE,CIeG,CPcC,GAAGtF,COdCwS,APcA,CAAC,EOdP,EAAWC,APcA,CAAJ,GAAQ,CAAT,CAAX,COdK,AJfL,CIewB,AJdpBzN,OADJ,EAEIJ,aAAa,GAAGA,aAAa,CAACS,GAAD,CAAhB,GAAwBA,GAFzC,EAGID,MAHJ,aIeK,EAA2F,IAA3F,IAAmG,GAA1G;AACD,ACFI,AFALyD,ANgBI,AG1BD,KALD,GGeM,ANgBA5H,CMhBC6H,ENgBE,GAAG9I,CAAC,CAAC,IAAI,CAAJ,EMhBhB,CAAwB,ANgBA,CAAT,CAAX,GMhBJ,EAA+B+I,SAA/B;ANiBI,AC6RJ,AEvTC,QH0BO7H,CC6RCgD,ED7RE,GAAGjE,CAAC,CAAC,IAAI,AC6RpB,CD7RgB,AC6RKkE,EAArB,CD7RwB,CAAT,AC6RU,CD7RrB;AObJuO,ACFIe,AFEJ,ANcI,AC6RFtP,EAAAA,EO7SEsP,AP6SA,CAACrP,EM3SE,CAAC6N,APcA9Q,CMdC6H,ENcE,EMdX,CEFc,ARgBA/I,CAAC,AC6Rb,CK3Sc,ANcA,AC6RAkE,CO7SC,CP6SC,CAACE,CM3SnB,APcoB,CQhBhB,ARgBY,EOdO2N,CPcC,CAAT,CAAX,KC6RF,EAA+BhO,QM3SjC,CN2SE,EAA0CG,EAAE,CAACG,WAA7C;AM1SFoO,ACFG,AFCa,ANeZ,AC6RH,AExTDvO,EAAAA,CKEyB,CLFvB,CKWG,ALXFoB,EIaI,ACXkB,CDWjBgN,ACXN,ARyBMnR,GAAG,GAAGnB,CAAC,CAAC,AG3BhB,CAAe+E,CIaf,EPcoB,COdCuN,APcL,GAAQ,AG3BxB,CH2Be,CAAX,AGzC0D,CAgB9D,IIWA;ACDC,ARgBG,QAAIlR,GAAG,GAAGpB,CAAC,CAAC,IAAI,CAAJ,GAAQ,CAAT,CAAX;AMfF,ANgBE,AG1BJ,MAAMuF,EH0BElE,GAAG,CG1BC,EH0BErB,CAAC,AG1BAkE,CH0BC,CG1BC,CAACsB,EH0BE,CAAJ,GAAQ,CAAT,CAAX,WG1BW,CAAuBT,OAAvB,EAAgCb,EAAE,CAACuB,WAAnC,CAAf;AKWAqO,AFAA,ANgBI,MQhBE,CAACrB,CRgBCnR,GMhBC0H,ANgBE,GQhBX,ARgBchJ,CAAC,CAAC,CQhBCyT,GRgBG,CAAJ,CMhBhB,CAAqBvP,CNgBG,CMhBxB,ANgBe,CQhBf,ARgBI,CMhBoB+E,GAAxB,EAA4B;AAC1B,ANgBE,AG3BJ,MAAI,CAAC1D,CGWG2D,ANgBA3H,CMhBC,ENgBE,CMhBC2C,CHXZ,CGWc,ANgBAlE,CMhBCmJ,ANgBA,AG3BF,CH2BG,IAAI,CAAJ,EMhBJ,CNgBY,CMhBtB,ANgBa,CAAX;AACA,AG3BA,QH2BI3H,GAAG,GAAGxB,CAAC,CAAC,IAAI,CAAJ,GAAQ,CAAT,CAAX;AMhBF,ANiBE,AG3BA,QGUEkJ,ANiBEzH,AG3BEiE,CGUH,ENiBI,GMjBCxB,ANiBElE,CAAC,CMjBD,ANiBE,CMjBDoJ,AHVI,GH2BC,AG3BElF,CH2BN,CG3BQ,CAACyB,CH2BD,CMjBtB,ANiBa,CAAX,CMjBoB,aHVF,CAAqBZ,OAArB,CAAlB;AGWAe,ANiBA,AG3BAjB,IAAAA,EGUAiB,ENiBIpE,CG3BC,CAAC,CH2BC,EMjBA,CAAC2H,ANiBErJ,CAAC,CAAC,CMjBZ,CAAY,EN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","file":"src.e31bb0bc.js","sourceRoot":"..","sourcesContent":["var m4 = {\r\n  projection: function(width, height, depth) {\r\n    // Note: This matrix flips the Y axis so 0 is at the top.\r\n    return [\r\n      2 / width,\r\n      0,\r\n      0,\r\n      0,\r\n      0,\r\n      -2 / height,\r\n      0,\r\n      0,\r\n      0,\r\n      0,\r\n      2 / depth,\r\n      0,\r\n      -1,\r\n      1,\r\n      0,\r\n      1\r\n    ];\r\n  },\r\n\r\n  multiply: function(a, b) {\r\n    var a00 = a[0 * 4 + 0];\r\n    var a01 = a[0 * 4 + 1];\r\n    var a02 = a[0 * 4 + 2];\r\n    var a03 = a[0 * 4 + 3];\r\n    var a10 = a[1 * 4 + 0];\r\n    var a11 = a[1 * 4 + 1];\r\n    var a12 = a[1 * 4 + 2];\r\n    var a13 = a[1 * 4 + 3];\r\n    var a20 = a[2 * 4 + 0];\r\n    var a21 = a[2 * 4 + 1];\r\n    var a22 = a[2 * 4 + 2];\r\n    var a23 = a[2 * 4 + 3];\r\n    var a30 = a[3 * 4 + 0];\r\n    var a31 = a[3 * 4 + 1];\r\n    var a32 = a[3 * 4 + 2];\r\n    var a33 = a[3 * 4 + 3];\r\n    var b00 = b[0 * 4 + 0];\r\n    var b01 = b[0 * 4 + 1];\r\n    var b02 = b[0 * 4 + 2];\r\n    var b03 = b[0 * 4 + 3];\r\n    var b10 = b[1 * 4 + 0];\r\n    var b11 = b[1 * 4 + 1];\r\n    var b12 = b[1 * 4 + 2];\r\n    var b13 = b[1 * 4 + 3];\r\n    var b20 = b[2 * 4 + 0];\r\n    var b21 = b[2 * 4 + 1];\r\n    var b22 = b[2 * 4 + 2];\r\n    var b23 = b[2 * 4 + 3];\r\n    var b30 = b[3 * 4 + 0];\r\n    var b31 = b[3 * 4 + 1];\r\n    var b32 = b[3 * 4 + 2];\r\n    var b33 = b[3 * 4 + 3];\r\n    return [\r\n      b00 * a00 + b01 * a10 + b02 * a20 + b03 * a30,\r\n      b00 * a01 + b01 * a11 + b02 * a21 + b03 * a31,\r\n      b00 * a02 + b01 * a12 + b02 * a22 + b03 * a32,\r\n      b00 * a03 + b01 * a13 + b02 * a23 + b03 * a33,\r\n      b10 * a00 + b11 * a10 + b12 * a20 + b13 * a30,\r\n      b10 * a01 + b11 * a11 + b12 * a21 + b13 * a31,\r\n      b10 * a02 + b11 * a12 + b12 * a22 + b13 * a32,\r\n      b10 * a03 + b11 * a13 + b12 * a23 + b13 * a33,\r\n      b20 * a00 + b21 * a10 + b22 * a20 + b23 * a30,\r\n      b20 * a01 + b21 * a11 + b22 * a21 + b23 * a31,\r\n      b20 * a02 + b21 * a12 + b22 * a22 + b23 * a32,\r\n      b20 * a03 + b21 * a13 + b22 * a23 + b23 * a33,\r\n      b30 * a00 + b31 * a10 + b32 * a20 + b33 * a30,\r\n      b30 * a01 + b31 * a11 + b32 * a21 + b33 * a31,\r\n      b30 * a02 + b31 * a12 + b32 * a22 + b33 * a32,\r\n      b30 * a03 + b31 * a13 + b32 * a23 + b33 * a33\r\n    ];\r\n  },\r\n\r\n  translation: function(tx, ty, tz) {\r\n    return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1];\r\n  },\r\n\r\n  xRotation: function(angleInRadians) {\r\n    var c = Math.cos(angleInRadians);\r\n    var s = Math.sin(angleInRadians);\r\n\r\n    return [1, 0, 0, 0, 0, c, s, 0, 0, -s, c, 0, 0, 0, 0, 1];\r\n  },\r\n\r\n  yRotation: function(angleInRadians) {\r\n    var c = Math.cos(angleInRadians);\r\n    var s = Math.sin(angleInRadians);\r\n\r\n    return [c, 0, -s, 0, 0, 1, 0, 0, s, 0, c, 0, 0, 0, 0, 1];\r\n  },\r\n\r\n  zRotation: function(angleInRadians) {\r\n    var c = Math.cos(angleInRadians);\r\n    var s = Math.sin(angleInRadians);\r\n\r\n    return [c, s, 0, 0, -s, c, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\r\n  },\r\n\r\n  scaling: function(sx, sy, sz) {\r\n    return [sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1];\r\n  },\r\n\r\n  translate: function(m, tx, ty, tz) {\r\n    return m4.multiply(m, m4.translation(tx, ty, tz));\r\n  },\r\n\r\n  xRotate: function(m, angleInRadians) {\r\n    return m4.multiply(m, m4.xRotation(angleInRadians));\r\n  },\r\n\r\n  yRotate: function(m, angleInRadians) {\r\n    return m4.multiply(m, m4.yRotation(angleInRadians));\r\n  },\r\n\r\n  zRotate: function(m, angleInRadians) {\r\n    return m4.multiply(m, m4.zRotation(angleInRadians));\r\n  },\r\n\r\n  scale: function(m, sx, sy, sz) {\r\n    return m4.multiply(m, m4.scaling(sx, sy, sz));\r\n  },\r\n  orthographic: function(left, right, bottom, top, near, far) {\r\n    return [\r\n      2 / (right - left),\r\n      0,\r\n      0,\r\n      0,\r\n      0,\r\n      2 / (top - bottom),\r\n      0,\r\n      0,\r\n      0,\r\n      0,\r\n      2 / (near - far),\r\n      0,\r\n\r\n      (left + right) / (left - right),\r\n      (bottom + top) / (bottom - top),\r\n      (near + far) / (near - far),\r\n      1\r\n    ];\r\n  }\r\n};\r\nexport { m4 };\r\n","// Fill the current ARRAY_BUFFER buffer\r\n// with the values that define a letter 'F'.\r\n\r\nconst geometryF = new Float32Array([\r\n  // left column front\r\n  0,\r\n  0,\r\n  0,\r\n  0,\r\n  150,\r\n  0,\r\n  30,\r\n  0,\r\n  0,\r\n  0,\r\n  150,\r\n  0,\r\n  30,\r\n  150,\r\n  0,\r\n  30,\r\n  0,\r\n  0,\r\n\r\n  // top rung front\r\n  30,\r\n  0,\r\n  0,\r\n  30,\r\n  30,\r\n  0,\r\n  100,\r\n  0,\r\n  0,\r\n  30,\r\n  30,\r\n  0,\r\n  100,\r\n  30,\r\n  0,\r\n  100,\r\n  0,\r\n  0,\r\n\r\n  // middle rung front\r\n  30,\r\n  60,\r\n  0,\r\n  30,\r\n  90,\r\n  0,\r\n  67,\r\n  60,\r\n  0,\r\n  30,\r\n  90,\r\n  0,\r\n  67,\r\n  90,\r\n  0,\r\n  67,\r\n  60,\r\n  0,\r\n\r\n  // left column back\r\n  0,\r\n  0,\r\n  30,\r\n  30,\r\n  0,\r\n  30,\r\n  0,\r\n  150,\r\n  30,\r\n  0,\r\n  150,\r\n  30,\r\n  30,\r\n  0,\r\n  30,\r\n  30,\r\n  150,\r\n  30,\r\n\r\n  // top rung back\r\n  30,\r\n  0,\r\n  30,\r\n  100,\r\n  0,\r\n  30,\r\n  30,\r\n  30,\r\n  30,\r\n  30,\r\n  30,\r\n  30,\r\n  100,\r\n  0,\r\n  30,\r\n  100,\r\n  30,\r\n  30,\r\n\r\n  // middle rung back\r\n  30,\r\n  60,\r\n  30,\r\n  67,\r\n  60,\r\n  30,\r\n  30,\r\n  90,\r\n  30,\r\n  30,\r\n  90,\r\n  30,\r\n  67,\r\n  60,\r\n  30,\r\n  67,\r\n  90,\r\n  30,\r\n\r\n  // top\r\n  0,\r\n  0,\r\n  0,\r\n  100,\r\n  0,\r\n  0,\r\n  100,\r\n  0,\r\n  30,\r\n  0,\r\n  0,\r\n  0,\r\n  100,\r\n  0,\r\n  30,\r\n  0,\r\n  0,\r\n  30,\r\n\r\n  // top rung right\r\n  100,\r\n  0,\r\n  0,\r\n  100,\r\n  30,\r\n  0,\r\n  100,\r\n  30,\r\n  30,\r\n  100,\r\n  0,\r\n  0,\r\n  100,\r\n  30,\r\n  30,\r\n  100,\r\n  0,\r\n  30,\r\n\r\n  // under top rung\r\n  30,\r\n  30,\r\n  0,\r\n  30,\r\n  30,\r\n  30,\r\n  100,\r\n  30,\r\n  30,\r\n  30,\r\n  30,\r\n  0,\r\n  100,\r\n  30,\r\n  30,\r\n  100,\r\n  30,\r\n  0,\r\n\r\n  // between top rung and middle\r\n  30,\r\n  30,\r\n  0,\r\n  30,\r\n  60,\r\n  30,\r\n  30,\r\n  30,\r\n  30,\r\n  30,\r\n  30,\r\n  0,\r\n  30,\r\n  60,\r\n  0,\r\n  30,\r\n  60,\r\n  30,\r\n\r\n  // top of middle rung\r\n  30,\r\n  60,\r\n  0,\r\n  67,\r\n  60,\r\n  30,\r\n  30,\r\n  60,\r\n  30,\r\n  30,\r\n  60,\r\n  0,\r\n  67,\r\n  60,\r\n  0,\r\n  67,\r\n  60,\r\n  30,\r\n\r\n  // right of middle rung\r\n  67,\r\n  60,\r\n  0,\r\n  67,\r\n  90,\r\n  30,\r\n  67,\r\n  60,\r\n  30,\r\n  67,\r\n  60,\r\n  0,\r\n  67,\r\n  90,\r\n  0,\r\n  67,\r\n  90,\r\n  30,\r\n\r\n  // bottom of middle rung.\r\n  30,\r\n  90,\r\n  0,\r\n  30,\r\n  90,\r\n  30,\r\n  67,\r\n  90,\r\n  30,\r\n  30,\r\n  90,\r\n  0,\r\n  67,\r\n  90,\r\n  30,\r\n  67,\r\n  90,\r\n  0,\r\n\r\n  // right of bottom\r\n  30,\r\n  90,\r\n  0,\r\n  30,\r\n  150,\r\n  30,\r\n  30,\r\n  90,\r\n  30,\r\n  30,\r\n  90,\r\n  0,\r\n  30,\r\n  150,\r\n  0,\r\n  30,\r\n  150,\r\n  30,\r\n\r\n  // bottom\r\n  0,\r\n  150,\r\n  0,\r\n  0,\r\n  150,\r\n  30,\r\n  30,\r\n  150,\r\n  30,\r\n  0,\r\n  150,\r\n  0,\r\n  30,\r\n  150,\r\n  30,\r\n  30,\r\n  150,\r\n  0,\r\n\r\n  // left side\r\n  0,\r\n  0,\r\n  0,\r\n  0,\r\n  0,\r\n  30,\r\n  0,\r\n  150,\r\n  30,\r\n  0,\r\n  0,\r\n  0,\r\n  0,\r\n  150,\r\n  30,\r\n  0,\r\n  150,\r\n  0\r\n]);\r\n\r\nfunction setGeometry(gl) {\r\n  gl.bufferData(gl.ARRAY_BUFFER, geometryF, gl.STATIC_DRAW);\r\n}\r\n\r\nexport { setGeometry, geometryF };\r\n","function setColors(gl) {\r\n  gl.bufferData(\r\n    gl.ARRAY_BUFFER,\r\n    new Uint8Array([\r\n      // left column front\r\n      200,\r\n      70,\r\n      120,\r\n      200,\r\n      70,\r\n      120,\r\n      200,\r\n      70,\r\n      120,\r\n      200,\r\n      70,\r\n      120,\r\n      200,\r\n      70,\r\n      120,\r\n      200,\r\n      70,\r\n      120,\r\n\r\n      // top rung front\r\n      200,\r\n      70,\r\n      120,\r\n      200,\r\n      70,\r\n      120,\r\n      200,\r\n      70,\r\n      120,\r\n      200,\r\n      70,\r\n      120,\r\n      200,\r\n      70,\r\n      120,\r\n      200,\r\n      70,\r\n      120,\r\n\r\n      // middle rung front\r\n      200,\r\n      70,\r\n      120,\r\n      200,\r\n      70,\r\n      120,\r\n      200,\r\n      70,\r\n      120,\r\n      200,\r\n      70,\r\n      120,\r\n      200,\r\n      70,\r\n      120,\r\n      200,\r\n      70,\r\n      120,\r\n\r\n      // left column back\r\n      80,\r\n      70,\r\n      200,\r\n      80,\r\n      70,\r\n      200,\r\n      80,\r\n      70,\r\n      200,\r\n      80,\r\n      70,\r\n      200,\r\n      80,\r\n      70,\r\n      200,\r\n      80,\r\n      70,\r\n      200,\r\n\r\n      // top rung back\r\n      80,\r\n      70,\r\n      200,\r\n      80,\r\n      70,\r\n      200,\r\n      80,\r\n      70,\r\n      200,\r\n      80,\r\n      70,\r\n      200,\r\n      80,\r\n      70,\r\n      200,\r\n      80,\r\n      70,\r\n      200,\r\n\r\n      // middle rung back\r\n      80,\r\n      70,\r\n      200,\r\n      80,\r\n      70,\r\n      200,\r\n      80,\r\n      70,\r\n      200,\r\n      80,\r\n      70,\r\n      200,\r\n      80,\r\n      70,\r\n      200,\r\n      80,\r\n      70,\r\n      200,\r\n\r\n      // top\r\n      70,\r\n      200,\r\n      210,\r\n      70,\r\n      200,\r\n      210,\r\n      70,\r\n      200,\r\n      210,\r\n      70,\r\n      200,\r\n      210,\r\n      70,\r\n      200,\r\n      210,\r\n      70,\r\n      200,\r\n      210,\r\n\r\n      // top rung right\r\n      200,\r\n      200,\r\n      70,\r\n      200,\r\n      200,\r\n      70,\r\n      200,\r\n      200,\r\n      70,\r\n      200,\r\n      200,\r\n      70,\r\n      200,\r\n      200,\r\n      70,\r\n      200,\r\n      200,\r\n      70,\r\n\r\n      // under top rung\r\n      210,\r\n      100,\r\n      70,\r\n      210,\r\n      100,\r\n      70,\r\n      210,\r\n      100,\r\n      70,\r\n      210,\r\n      100,\r\n      70,\r\n      210,\r\n      100,\r\n      70,\r\n      210,\r\n      100,\r\n      70,\r\n\r\n      // between top rung and middle\r\n      210,\r\n      160,\r\n      70,\r\n      210,\r\n      160,\r\n      70,\r\n      210,\r\n      160,\r\n      70,\r\n      210,\r\n      160,\r\n      70,\r\n      210,\r\n      160,\r\n      70,\r\n      210,\r\n      160,\r\n      70,\r\n\r\n      // top of middle rung\r\n      70,\r\n      180,\r\n      210,\r\n      70,\r\n      180,\r\n      210,\r\n      70,\r\n      180,\r\n      210,\r\n      70,\r\n      180,\r\n      210,\r\n      70,\r\n      180,\r\n      210,\r\n      70,\r\n      180,\r\n      210,\r\n\r\n      // right of middle rung\r\n      100,\r\n      70,\r\n      210,\r\n      100,\r\n      70,\r\n      210,\r\n      100,\r\n      70,\r\n      210,\r\n      100,\r\n      70,\r\n      210,\r\n      100,\r\n      70,\r\n      210,\r\n      100,\r\n      70,\r\n      210,\r\n\r\n      // bottom of middle rung.\r\n      76,\r\n      210,\r\n      100,\r\n      76,\r\n      210,\r\n      100,\r\n      76,\r\n      210,\r\n      100,\r\n      76,\r\n      210,\r\n      100,\r\n      76,\r\n      210,\r\n      100,\r\n      76,\r\n      210,\r\n      100,\r\n\r\n      // right of bottom\r\n      140,\r\n      210,\r\n      80,\r\n      140,\r\n      210,\r\n      80,\r\n      140,\r\n      210,\r\n      80,\r\n      140,\r\n      210,\r\n      80,\r\n      140,\r\n      210,\r\n      80,\r\n      140,\r\n      210,\r\n      80,\r\n\r\n      // bottom\r\n      90,\r\n      130,\r\n      110,\r\n      90,\r\n      130,\r\n      110,\r\n      90,\r\n      130,\r\n      110,\r\n      90,\r\n      130,\r\n      110,\r\n      90,\r\n      130,\r\n      110,\r\n      90,\r\n      130,\r\n      110,\r\n\r\n      // left side\r\n      160,\r\n      160,\r\n      220,\r\n      160,\r\n      160,\r\n      220,\r\n      160,\r\n      160,\r\n      220,\r\n      160,\r\n      160,\r\n      220,\r\n      160,\r\n      160,\r\n      220,\r\n      160,\r\n      160,\r\n      220\r\n    ]),\r\n    gl.STATIC_DRAW\r\n  );\r\n}\r\n\r\nexport { setColors };\r\n","export function createProgram(\r\n  gl, shaders, opt_attribs, opt_locations, opt_errorCallback) {\r\nconst errFn = opt_errorCallback || error;\r\nconst program = gl.createProgram();\r\nshaders.forEach(function(shader) {\r\n  gl.attachShader(program, shader);\r\n});\r\nif (opt_attribs) {\r\n  opt_attribs.forEach(function(attrib, ndx) {\r\n    gl.bindAttribLocation(\r\n        program,\r\n        opt_locations ? opt_locations[ndx] : ndx,\r\n        attrib);\r\n  });\r\n}\r\ngl.linkProgram(program);\r\n\r\n// Check the link status\r\nconst linked = gl.getProgramParameter(program, gl.LINK_STATUS);\r\nif (!linked) {\r\n    // something went wrong with the link\r\n    const lastError = gl.getProgramInfoLog(program);\r\n    errFn(\"Error in program linking:\" + lastError);\r\n\r\n    gl.deleteProgram(program);\r\n    return null;\r\n}\r\nreturn program;\r\n}\r\n\r\nfunction error(msg) {\r\n  console.error(msg)\r\n}\r\n\r\nexport function makeBuffer(\r\n  gl,\r\n  attributeLocationName,\r\n  program,\r\n  size,\r\n  type,\r\n  normalize,\r\n  stride,\r\n  offset,\r\n  data\r\n) {\r\n  const positionAttributeLocation = gl.getAttribLocation(\r\n    program,\r\n    attributeLocationName\r\n  );\r\n\r\n  const pointsBuffer = gl.createBuffer();\r\n\r\n  gl.enableVertexAttribArray(positionAttributeLocation);\r\n  gl.bindBuffer(gl.ARRAY_BUFFER, pointsBuffer);\r\n\r\n  gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([...data]), gl.STATIC_DRAW);\r\n\r\n  gl.vertexAttribPointer(\r\n    positionAttributeLocation,\r\n    size,\r\n    type,\r\n    normalize,\r\n    stride,\r\n    offset\r\n  );\r\n  const bufferObject = {\r\n    attributeLocation: positionAttributeLocation,\r\n    program: program,\r\n    properties: {\r\n      size,\r\n      type,\r\n      normalize,\r\n      stride,\r\n      offset\r\n    }\r\n  };\r\n\r\n  return bufferObject;\r\n}\r\n  const defaultShaderType = [\r\n    \"VERTEX_SHADER\",\r\n    \"FRAGMENT_SHADER\",\r\n  ];\r\nexport function createProgramFromSources(\r\n    gl, shaderSources, opt_attribs, opt_locations, opt_errorCallback) {\r\n  const shaders = [];\r\n  for (let ii = 0; ii < shaderSources.length; ++ii) {\r\n    shaders.push(loadShader(\r\n        gl, shaderSources[ii], gl[defaultShaderType[ii]], opt_errorCallback));\r\n  }\r\n  return createProgram(gl, shaders, opt_attribs, opt_locations, opt_errorCallback);\r\n}\r\n  function loadShader(gl, shaderSource, shaderType, opt_errorCallback) {\r\n    const errFn = opt_errorCallback || error;\r\n    // Create the shader object\r\n    const shader = gl.createShader(shaderType);\r\n\r\n    // Load the shader source\r\n    gl.shaderSource(shader, shaderSource);\r\n\r\n    // Compile the shader\r\n    gl.compileShader(shader);\r\n\r\n    // Check the compile status\r\n    const compiled = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\r\n    if (!compiled) {\r\n      // Something went wrong during compilation; get the error\r\n      const lastError = gl.getShaderInfoLog(shader);\r\n      errFn(\"*** Error compiling shader '\" + shader + \"':\" + lastError);\r\n      gl.deleteShader(shader);\r\n      return null;\r\n    }\r\n  }","export const NUM_PARTICLES = 1000","import {NUM_PARTICLES} from './vars'\r\n\r\nexport const vertexShaderRectangleSource = `#version 310 es\r\nin vec4 a_position;\r\n\r\nuniform mat4 u_matrix;\r\nuniform float u_fudgeFactor;\r\nuniform vec2 u_resolution;\r\n\r\nout vec4 v_color;\r\nout vec4 v_position;\r\n\r\nvoid main() {\r\n\r\n  vec4 position = u_matrix * a_position;\r\n  float zToDivideBy = 1.;\r\n  v_color = vec4(1,1,1,1.);\r\n  v_position = a_position;\r\n  gl_Position = vec4(position.xy / zToDivideBy, position.zw);\r\n}\r\n\r\n`\r\nexport const fragmentShaderRectangleSource = `#version 310 es\r\nprecision highp float;\r\nin vec4 v_color;\r\nin vec4 v_position;\r\nout vec4 outColor;\r\n\r\nuniform vec2 u_resolution;\r\nuniform sampler2D u_previousFrame;\r\nuniform sampler2D u_currFrame;\r\n\r\nvoid main() {\r\n  vec2 uv = v_position.xy/u_resolution;\r\n\r\n  uv *= 1.0;\r\n  uv.y = 1. - uv.y;\r\n\r\n  outColor = vec4(0,0,0,1);\r\n  vec3 previous =  texture(u_previousFrame,uv).xyz;\r\n  vec3 curr =  texture(u_currFrame,uv).xyz;\r\n\r\n  outColor.xyz += previous*1. + curr*1.0;\r\n}\r\n`;\r\nexport const vertexShaderSource = `#version 310 es\r\n\r\n\r\nin vec4 a_position;\r\n// in vec4 a_color;\r\n\r\n// layout (rgba8, binding = 0) uniform readonly highp image2D u_distTex;\r\n\r\nuniform mat4 u_matrix;\r\nuniform float u_fudgeFactor;\r\n// uniform sampler2D u_distTex;\r\nuniform int u_particleId;\r\nuniform int u_particleCount;\r\nuniform vec2 u_resolution;\r\nuniform vec2 u_positionMouse;\r\n\r\n// layout (std430, binding = 0) buffer SSBO {\r\n//   vec3 data[];\r\n// } ssbo;\r\nstruct Particle {\r\n  vec3 position;\r\n  vec3 velocity;\r\n};\r\nlayout (location = 0) in vec3 particle;\r\nlayout (location = 1) in vec3 particleVelocity;\r\n\r\nout vec4 v_color;\r\n\r\nvoid main() {\r\n  float particleCount = float(u_particleCount);\r\n\r\n  a_position;\r\n  Particle t = Particle(particle,particleVelocity);\r\n\r\n  vec4 position = u_matrix * vec4(0. + t.position.x*u_resolution.x,u_resolution.y-t.position.y*u_resolution.y,1.,1.);\r\n  // vec4 position = u_matrix * vec4(0. + u_positionMouse.x*u_resolution.x,u_resolution.y-t.position.y*u_resolution.y,1.,1.);\r\n  \r\n  float zToDivideBy = 1.;\r\n  gl_PointSize = 4.0;\r\n  v_color = vec4(particleVelocity,1.);\r\n  gl_Position = vec4(position.xy / zToDivideBy, position.zw);\r\n}\r\n`;\r\n\r\nexport const fragmentShaderSource = `#version 310 es\r\n\r\nprecision mediump float;\r\n\r\nin vec4 v_color;\r\n\r\nout vec4 outColor;\r\n\r\n\r\nvoid main() {\r\n  // outColor = v_color;\r\n  vec2 uv = 2.*gl_PointCoord - 1.;\r\n\r\n  float r = 1.;\r\n  outColor = vec4(v_color.x,v_color.y,1,1.) * smoothstep(r, r*0.99, length(uv));\r\n}\r\n`;\r\nexport const computeShaderSource = `#version 310 es\r\n  layout (local_size_x = 1, local_size_y = 1, local_size_z = 1) in;\r\n\r\n  struct Particle {\r\n    vec3 position;\r\n    vec3 velocity;\r\n  };\r\n\r\n  layout (std430, binding = 0) buffer SSBO {\r\n    vec3 position[${NUM_PARTICLES}]; // TODO: make this an import\r\n    vec3 velocity[${NUM_PARTICLES}];\r\n  } ssbo;\r\n\r\n  uniform vec2 u_resolution;\r\n  uniform vec2 u_positionMouse;\r\n  uniform float u_mousePressed;\r\n  uniform int u_particleCount;\r\n  uniform float u_timeElapsed;\r\n  uniform float u_avoidance;\r\n  uniform vec2 u_gravity;\r\n  \r\n\r\n  float r11(float i) {return fract(sin(i*212.12)*124.41);}\r\n  vec3 r13(float i) {return vec3( r11(i), r11(i*2.4), r11(i*1.57));} \r\n\r\n  void main() {\r\n    ivec2 posGlobal = ivec2(gl_GlobalInvocationID.xy);\r\n\r\n    // Particle previous = ssbo.particle[posGlobal.x];\r\n    // Particle previous = Particle(ssbo.position[posGlobal.x], ssbo.velocity[posGlobal.x]);\r\n    Particle previous = Particle(ssbo.position[posGlobal.x], ssbo.velocity[posGlobal.x]);\r\n    Particle next = previous;\r\n\r\n    vec2 positionMouse = u_positionMouse ;\r\n    vec2 directionMouse = normalize(positionMouse - previous.position.xy );\r\n\r\n\r\n    if (u_timeElapsed <=  20.) {\r\n      // ssbo.position[posGlobal.x] = vec3(0.5,0.5,1);\r\n      ssbo.position[posGlobal.x] = r13(float(posGlobal.x) + 1.);\r\n      ssbo.position[posGlobal.x].z = 1.;\r\n      // ssbo.velocity[posGlobal.x] = vec3(0);\r\n    } else {\r\n      // -- bounds -- //\r\n      if (previous.position.x < 0.) {\r\n        previous.velocity.x = -1.*abs(previous.velocity.x);\r\n      }\r\n      if (previous.position.x > 1.){\r\n        previous.velocity.x = 1.*abs(previous.velocity.x);\r\n      }\r\n      if (previous.position.y < 0.) {\r\n        previous.velocity.y = -1.*abs(previous.velocity.y);\r\n      }\r\n      if (previous.position.y > 1.) {\r\n        previous.velocity.y = 1.*abs(previous.velocity.y);\r\n      }\r\n      \r\n      // -- mouse -- //\r\n      if (u_mousePressed == 1.) {\r\n        previous.velocity.x -= directionMouse.x*0.0001;\r\n        previous.velocity.y -= directionMouse.y*0.0003;\r\n      }\r\n\r\n\r\n      \r\n      // -- avoidance -- //\r\n      for (int i = 0; i < u_particleCount; i++) {\r\n        vec3 otherPos = ssbo.position[int(i)];\r\n        vec3 direction = normalize(otherPos - previous.position);\r\n        float dis = length(otherPos - previous.position);\r\n        previous.velocity += direction * exp(-dis*(200. - u_avoidance*190.))*0.0001;\r\n      }\r\n\r\n      // -- vortex -- //\r\n      float frId = 10.*float(posGlobal.x)/float(u_particleCount);\r\n      vec2 vortexPos = vec2(sin(frId + u_timeElapsed*0.001), cos(frId + u_timeElapsed*0.001))*0.5 + 0.5;\r\n      vec2 vortexDir = normalize(vortexPos - previous.position.xy);\r\n      // previous.velocity.xy -= vortexDir*0.0001;\r\n      \r\n\r\n\r\n      \r\n      // -- damping -- //\r\n      previous.velocity *= 0.99;\r\n      // -- gravity -- //\r\n      previous.velocity.xy -= u_gravity*0.0003;\r\n\r\n      next.position -= previous.velocity;\r\n      next.velocity = previous.velocity;\r\n\r\n      // -- bounds -- //\r\n      // if (next.position.y == 0.) {\r\n      //   next.position.y = abs(next.position.y);        \r\n      // }\r\n      // next.position.y = max(next.position.y, 0.);\r\n      // next.position.xy = max(min(next.position.xy, vec2(1.)), vec2(0));\r\n\r\n      ssbo.position[posGlobal.x] = next.position;\r\n      ssbo.velocity[posGlobal.x] = next.velocity;\r\n    }\r\n\r\n  }\r\n\r\n\r\n`;\r\n\r\n","import \"./styles.css\";\r\nimport { m4 } from \"./m4.js\";\r\nimport { setGeometry, geometryF } from \"./setGeometry\";\r\nimport { setColors } from \"./setColors\";\r\nimport { makeBuffer } from \"./utils\";\r\nimport { NUM_PARTICLES } from \"./vars\";\r\nimport {\r\n  vertexShaderSource,\r\n  fragmentShaderSource,\r\n  vertexShaderRectangleSource,\r\n  fragmentShaderRectangleSource,\r\n  computeShaderSource\r\n} from \"./shaders.js\";\r\nfunction radToDeg(r) {\r\n  return (r * 180) / Math.PI;\r\n}\r\nfunction degToRad(d) {\r\n  return (d * Math.PI) / 180;\r\n}\r\n\r\n(\"use strict\");\r\n// You can either biond VAO or Buffer\r\n\r\ndocument.getElementById(\"app\").innerHTML = `<h1>Hello Vanilla!</h1>`;\r\n\r\n\r\n\r\nfunction main() {\r\n  // Get A WebGL context\r\nfunction checkErorrs(gl,ctx){\r\n  const e = gl.getError()\r\n  if (e !== gl.NO_ERROR){\r\n    console.log(\"ERROR: \" + ctx)\r\n    console.log(e)\r\n  }\r\n\r\n}\r\n  /** @type {HTMLCanvasElement} */\r\n  const canvas = document.getElementById(\"canvas\");\r\n  const WIDTH = canvas.width\r\n  const HEIGHT = canvas.height\r\n\r\n  const gl = canvas.getContext(\"webgl2-compute\", {antialias: false});\r\n\r\n  this.gl = gl\r\n  if (!gl) {\r\n    return;\r\n  }\r\n\r\n  // ----------- SHADERS ----------- //\r\n\r\n  const programDrawParticles = webglUtils.createProgramFromSources(gl, [\r\n    vertexShaderSource,\r\n    fragmentShaderSource\r\n  ]);\r\n  const programDrawScreen = webglUtils.createProgramFromSources(gl, [\r\n    vertexShaderRectangleSource,\r\n    fragmentShaderRectangleSource\r\n  ]);\r\n  \r\n  const computeShader = gl.createShader(gl.COMPUTE_SHADER);\r\n  gl.shaderSource(computeShader, computeShaderSource);\r\n  gl.compileShader(computeShader);\r\n\r\n  if (!gl.getShaderParameter(computeShader, gl.COMPILE_STATUS)) {\r\n    console.log(gl.getShaderInfoLog(computeShader));\r\n    console.log(\"error compiling shader\")\r\n    // return null;\r\n  }\r\n\r\n  const programCompute = gl.createProgram()\r\n  gl.attachShader(programCompute, computeShader)\r\n  gl.linkProgram(programCompute)\r\n\r\n  if (!gl.getProgramParameter(programCompute,gl.LINK_STATUS)){\r\n    console.log(\"error linking shader\")\r\n  }\r\n\r\n\r\n  \r\n  \r\n  // ----------- BUFFERS ----------- //\r\n\r\n  // SSBO\r\n  const ssbo = gl.createBuffer()\r\n\r\n  gl.bindBuffer(gl.SHADER_STORAGE_BUFFER, ssbo)\r\n  gl.bufferData(gl.SHADER_STORAGE_BUFFER, new Float32Array(NUM_PARTICLES*6), gl.DYNAMIC_COPY)\r\n  gl.bindBufferBase(gl.SHADER_STORAGE_BUFFER, 0, ssbo)\r\n\r\n  // Current texture\r\n  const texWidth = gl.canvas.clientWidth\r\n  const texHeight = gl.canvas.clientHeight\r\n  const currTex = gl.createTexture()\r\n  gl.bindTexture(gl.TEXTURE_2D, currTex)\r\n  \r\n  {\r\n    const data = null;\r\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, texWidth, texHeight, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\r\n    \r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n  }\r\n  \r\n  const currentFrameBuffer = gl.createFramebuffer()\r\n  gl.bindFramebuffer(gl.FRAMEBUFFER, currentFrameBuffer)\r\n  gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, currTex, 0)\r\n  \r\n  // Draw texture\r\n  const drawnTex = gl.createTexture();\r\n  gl.bindTexture(gl.TEXTURE_2D, drawnTex)\r\n  {\r\n    const data = null;\r\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, texWidth, texHeight, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\r\n    \r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n  }\r\n  \r\n  const drawnFrameBuffer = gl.createFramebuffer()\r\n  gl.bindFramebuffer(gl.FRAMEBUFFER, drawnFrameBuffer)\r\n  gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, drawnTex, 0)\r\n\r\n  // Feedback texture\r\n  const feedbackTex = gl.createTexture();\r\n  gl.bindTexture(gl.TEXTURE_2D, feedbackTex)\r\n  {\r\n    const data = null;\r\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, texWidth, texHeight, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\r\n    \r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n  }\r\n  \r\n  gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT1, gl.TEXTURE_2D, feedbackTex, 0)\r\n\r\n\r\n  // const drawnFrameBufferFeedback = gl.createFramebuffer()\r\n  // gl.bindFramebuffer(gl.FRAMEBUFFER, drawnFrameBufferFeedback)\r\n  // gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, feedbackTex, 0)\r\n  \r\n\r\n  \r\n  // gl.activeTexture(gl.TEXTURE1)\r\n  // gl.bindTexture(gl.TEXTURE_2D, texture)\r\n  // gl.bindImageTexture(0, texture, 0, false, 0, gl.READ_ONLY, gl.RGBA8) // bind for writing\r\n\r\n\r\n  \r\n  checkErorrs(gl, \"SSBO problem\")\r\n  var vaoScreenRectangle = gl.createVertexArray()\r\n  gl.bindVertexArray(vaoScreenRectangle)\r\n\r\n  const rectangleGeometry = new Float32Array([\r\n      0, gl.canvas.clientHeight, 0, 1.,\r\n      gl.canvas.clientWidth, gl.canvas.clientHeight, 1, 1,\r\n      0,0,1,1,\r\n      gl.canvas.clientWidth, 0, 1,1,\r\n    ])\r\n  const rectangleBuffer = makeBuffer(\r\n    gl,\r\n    \"a_position\",\r\n    programDrawScreen,\r\n    4,\r\n    gl.FLOAT,\r\n    false,\r\n    4*4,\r\n    0,\r\n    rectangleGeometry\r\n  )\r\n\r\n  \r\n  var vaoP = gl.createVertexArray();\r\n  gl.bindVertexArray(vaoP);\r\n  \r\n  const pBuffer = makeBuffer(\r\n    gl,\r\n    \"a_position\",\r\n    programDrawParticles,\r\n    1,\r\n    gl.FLOAT,\r\n    false,\r\n    0,\r\n    0,\r\n    new Float32Array(NUM_PARTICLES)\r\n    );\r\n  // ----------- ATTRIBUTES ----------- //\r\n\r\n  // var positionAttributeLocation = gl.getAttribLocation(program, \"a_position\");\r\n  // var pointsAttributeLocation = gl.getAttribLocation(program, \"a_points\");\r\n\r\n  var colorLocation = gl.getUniformLocation(programDrawParticles, \"u_color\");\r\n  var matrixLocation = gl.getUniformLocation(programDrawParticles, \"u_matrix\");\r\n  var fudgeLocation = gl.getUniformLocation(programDrawParticles, \"u_fudgeFactor\");\r\n  var colorAttributeLocation = gl.getAttribLocation(programDrawParticles, \"a_color\");\r\n\r\n  // ----------- SETUP ----------- //\r\n  var translation = [0, 0, 0];\r\n  var rotation = [degToRad(0), degToRad(0), degToRad(0)];\r\n  var scale = [1, 1, 1];\r\n  var color = [Math.random(), Math.random(), Math.random(), 1];\r\n\r\n  this.state = {\r\n    gravity: {\r\n      x : 0.,\r\n      y : 0.\r\n    },\r\n    timePrevious: new Date().getTime(),\r\n    timeNext : this.timePrevious,\r\n    timeDelta : 0,\r\n    timeElapsed : 0,\r\n    timeStarted : this.timePrevious,\r\n    positionMouse : {x: 0, y:0},\r\n    mousePressed : 0,\r\n    avoidance : 0,\r\n    formula : \"vec2(sin(frId + u_timeElapsed*0.001), cos(frId + u_timeElapsed*0.001))\",\r\n  }\r\n  const formulaInput = document.querySelector(\"#formula\")\r\n  formulaInput.addEventListener(\"oninput\", e => {\r\n    formulaInput.innerHTML = e.target.value\r\n    this.state.formula = e.target.value\r\n    gl.shaderSource(computeShader, computeShaderSource);\r\n    gl.compileShader(computeShader);\r\n  })\r\n\r\n  document.body.onmousedown = e => {\r\n    this.state.mousePressed = 1\r\n  }\r\n  document.body.onmouseup = e => {\r\n    this.state.mousePressed = 0\r\n  }\r\n  window.addEventListener('mousemove', e => {\r\n    getMousePosition.call(this, e)\r\n  })\r\n\r\n\r\n\r\n  runCompute.call(this) \r\n\r\n  // const result = new Float32Array(NUM_PARTICLES)\r\n  // gl.getBufferSubData(gl.SHADER_STORAGE_BUFFER, 0, result)\r\n  // console.log(result)\r\n\r\n  setInterval(()=>{\r\n    runCompute.call(this)\r\n    drawParticles.call(this)\r\n    drawScreen.call(this)\r\n    this.state.timeNext = new Date().getTime()\r\n    this.state.timeDelta = this.state.timeNext - this.state.timePrevious\r\n    this.state.timeElapsed += this.state.timeDelta\r\n    this.state.timePrevious = this.state.timeNext\r\n  }, 1)\r\n\r\n  webglLessonsUI.setupSlider(\"#x\", {\r\n    value: translation[0],\r\n    slide: updatePosition(0),\r\n    max: gl.canvas.width\r\n  });\r\n  webglLessonsUI.setupSlider(\"#gravity-x\", {\r\n    value: 500,\r\n    slide: (e, ui) => {this.state.gravity.x = ui.value/1000 - 0.5},\r\n    max: 1000\r\n  });\r\n  webglLessonsUI.setupSlider(\"#gravity-y\", {\r\n    value: 500,\r\n    slide: (e, ui) => {this.state.gravity.y = ui.value/1000 - 0.5},\r\n    max: 1000\r\n  });\r\n  webglLessonsUI.setupSlider(\"#avoidance\", {\r\n    value: 0,\r\n    slide: (e, ui) => {this.state.avoidance = ui.value/1000},\r\n    max: 1000\r\n  });\r\n\r\n  function updatePosition(index) {\r\n    return function(event, ui) {\r\n      translation[index] = ui.value;\r\n      // drawScene();\r\n    };\r\n  }\r\n  // ----------- RUN ----------- //\r\n\r\n  function runCompute () {\r\n    gl.useProgram(programCompute)\r\n    gl.uniform2fv(gl.getUniformLocation(programCompute, \"u_resolution\"), new Float32Array([gl.canvas.clientWidth, gl.canvas.clientHeight]));\r\n    gl.uniform2fv(gl.getUniformLocation(programCompute, \"u_positionMouse\"), new Float32Array([this.state.positionMouse.x, this.state.positionMouse.y]));\r\n    gl.uniform2fv(gl.getUniformLocation(programCompute, \"u_gravity\"), new Float32Array([this.state.gravity.x, this.state.gravity.y]));\r\n    gl.uniform1f(gl.getUniformLocation(programCompute, \"u_avoidance\"),  this.state.avoidance);\r\n    gl.uniform1f(gl.getUniformLocation(programCompute, \"u_mousePressed\"), this.state.mousePressed);\r\n    gl.uniform1i(gl.getUniformLocation(programCompute, \"u_particleCount\"), NUM_PARTICLES);\r\n    gl.uniform1f(gl.getUniformLocation(programCompute, \"u_timeElapsed\"), this.state.timeElapsed);\r\n    gl.dispatchCompute(NUM_PARTICLES, 1,1)\r\n    gl.memoryBarrier(gl.SHADER_IMAGE_ACCESS_BARRIER_BIT)\r\n  }\r\n  let ping = 1\r\n  function drawScreen() {\r\n    // webglUtils.resizeCanvasToDisplaySize(gl.canvas);\r\n    gl.activeTexture(gl.TEXTURE0)\r\n    gl.bindTexture(gl.TEXTURE_2D, null)\r\n\r\n    gl.bindFramebuffer(gl.FRAMEBUFFER, drawnFrameBuffer)\r\n    gl.viewport(0, 0, gl.canvas.clientWidth, gl.canvas.clientHeight);\r\n    gl.clearColor(0, 0, 0, 1);\r\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n\r\n    gl.bindVertexArray(vaoScreenRectangle);\r\n\r\n    const left = 0;\r\n    const right = gl.canvas.clientWidth;\r\n    const bottom = gl.canvas.clientHeight;\r\n    const top = 0;\r\n    const near = 400;\r\n    const far = -400;\r\n    let matrix = m4.orthographic(left, right, bottom, top, near, far);\r\n\r\n    gl.useProgram(programDrawScreen)\r\n    // if (ping === 1) {\r\n    //   gl.activeTexture(gl.TEXTURE1)\r\n    //   gl.bindTexture(gl.TEXTURE_2D,drawnTex)\r\n    //   gl.drawBuffers([ gl.COLOR_ATTACHMENT0])\r\n    // } else {\r\n    //   gl.activeTexture(gl.TEXTURE1)\r\n    //   gl.bindTexture(gl.TEXTURE_2D,feedbackTex)\r\n    //   gl.drawBuffers([ gl.COLOR_ATTACHMENT1])\r\n    // }\r\n    // checkErorrs(gl,\"Problem FBO attachement\");\r\n\r\n    gl.uniform1i(gl.getUniformLocation(programDrawScreen, \"u_currFrame\"), 0) // bind texture 0 \r\n    gl.uniform1i(gl.getUniformLocation(programDrawScreen, \"u_previousFrame\"), 1) // bind texture 0 \r\n    // gl.uniform1i(gl.getUniformLocation(programDrawParticles, \"u_distTex\"), 0) // bind texture 0 \r\n    gl.uniformMatrix4fv(gl.getUniformLocation(programDrawScreen, \"u_matrix\"), false, matrix);\r\n    // gl.uniform1i(gl.getUniformLocation(programDrawParticles, \"u_particleId\"), i);\r\n    gl.uniform1i(gl.getUniformLocation(programDrawScreen, \"u_particleCount\"), NUM_PARTICLES);\r\n    gl.uniform2fv(gl.getUniformLocation(programDrawScreen, \"u_resolution\"), new Float32Array([gl.canvas.clientWidth, gl.canvas.clientHeight]));\r\n    gl.uniform2fv(gl.getUniformLocation(programDrawScreen, \"u_positionMouse\"), new Float32Array([this.state.positionMouse.x, this.state.positionMouse.y]));\r\n    \r\n\r\n    gl.drawArrays(gl.TRIANGLE_STRIP, 0, rectangleGeometry.length );\r\n\r\n\r\n    gl.bindFramebuffer(gl.READ_FRAMEBUFFER, currentFrameBuffer)\r\n    gl.bindFramebuffer(gl.DRAW_FRAMEBUFFER, null)\r\n    \r\n    gl.blitFramebuffer(\r\n      0, 0, gl.canvas.clientWidth, gl.canvas.clientHeight,\r\n      0, 0, gl.canvas.clientWidth, gl.canvas.clientHeight,\r\n      gl.COLOR_BUFFER_BIT, gl.NEAREST);\r\n\r\n    ping = 1 - ping\r\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null)\r\n\r\n  }\r\n  function drawParticles() {\r\n    \r\n    webglUtils.resizeCanvasToDisplaySize(gl.canvas);\r\n    gl.bindFramebuffer(gl.FRAMEBUFFER, currentFrameBuffer)\r\n\r\n    gl.viewport(0, 0, gl.canvas.clientWidth, gl.canvas.clientHeight);\r\n    gl.enable(gl.CULL_FACE);\r\n    gl.enable(gl.DEPTH_TEST);\r\n    gl.enable(gl.BLEND);\r\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\r\n\r\n    gl.clearColor(0, 0, 0, 1);\r\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n\r\n    gl.bindVertexArray(vaoP);\r\n\r\n    const left = 0;\r\n    const right = gl.canvas.clientWidth;\r\n    const bottom = gl.canvas.clientHeight;\r\n    const top = 0;\r\n    const near = 400;\r\n    const far = -400;\r\n    let matrix = m4.orthographic(left, right, bottom, top, near, far);\r\n\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, ssbo) // may be able to move these out of the drawParticles() function\r\n    gl.vertexAttribPointer(0,3,gl.FLOAT, false, 2*4,0)\r\n    gl.enableVertexAttribArray(0)\r\n    gl.vertexAttribPointer(1,3,gl.FLOAT, false, 2*4,NUM_PARTICLES*1*4)\r\n    gl.enableVertexAttribArray(1)\r\n\r\n    \r\n    // for (let i = 0; i < NUM_PARTICLES; i++) {\r\n      gl.useProgram(programDrawParticles)\r\n      // gl.uniform1i(gl.getUniformLocation(programDrawParticles, \"u_distTex\"), 0) // bind texture 0 \r\n      gl.uniformMatrix4fv(matrixLocation, false, matrix);\r\n      // gl.uniform1i(gl.getUniformLocation(programDrawParticles, \"u_particleId\"), i);\r\n      gl.uniform1i(gl.getUniformLocation(programDrawParticles, \"u_particleCount\"), NUM_PARTICLES);\r\n      gl.uniform2fv(gl.getUniformLocation(programDrawParticles, \"u_resolution\"), new Float32Array([gl.canvas.clientWidth, gl.canvas.clientHeight]));\r\n      gl.uniform2fv(gl.getUniformLocation(programDrawParticles, \"u_positionMouse\"), new Float32Array([this.state.positionMouse.x, this.state.positionMouse.y]));\r\n      \r\n      gl.drawArrays(gl.POINTS, 0, NUM_PARTICLES);\r\n\r\n    // } \r\n    // gl.blitFramebuffer(\r\n    //   0, 0, WIDTH, HEIGHT,\r\n    //   0, 0, WIDTH, HEIGHT,\r\n    //   gl.COLOR_BUFFER_BIT, gl.NEAREST);\r\n\r\n  }\r\n}\r\n\r\n\r\nfunction getRelativeMousePosition(event, target) {\r\n  target = target || event.target;\r\n  var rect = target.getBoundingClientRect();\r\n\r\n  return {\r\n    x: event.clientX - rect.left,\r\n    y: event.clientY - rect.top,\r\n  }\r\n}\r\n\r\nfunction getMousePosition(e) {\r\n  const pos = getNoPaddingNoBorderCanvasRelativeMousePosition(e, this.gl.canvas);\r\n\r\n  // pos is in pixel coordinates for the canvas.\r\n  // so convert to WebGL clip space coordinates\r\n  const x = pos.x / this.gl.canvas.width  *  2 - 1;\r\n  const y = pos.y / this.gl.canvas.height * -2 + 1;\r\n\r\n\r\n  this.state.positionMouse = {\r\n    x: x,\r\n    y: y\r\n  }\r\n}\r\n// assumes target or event.target is canvas\r\nfunction getNoPaddingNoBorderCanvasRelativeMousePosition(event, target) {\r\n  target = target || event.target;\r\n  var pos = getRelativeMousePosition(event, target);\r\n\r\n  pos.x = pos.x * target.width  / target.clientWidth;\r\n  pos.y = pos.y * target.height / target.clientHeight;\r\n\r\n  return pos;  \r\n}\r\n\r\nfunction setupCompute () {\r\n\r\n}\r\nwindow.addEventListener('DOMContentLoaded', main)\r\n// main();\r\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}